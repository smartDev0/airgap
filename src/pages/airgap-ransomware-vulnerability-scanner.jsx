import { useStaticQuery, graphql } from 'gatsby';
import React from 'react';
import Image from 'gatsby-image';

import { Container, Row, Col } from 'react-bootstrap';
import Hero from '../components/Hero';
import Panel from '../components/Panel';
import List from '../components/List';
import HubspotForm from '../components/HubspotForm';
import Link from '../components/Link';
import Box from '../components/Box';
import SEO from '../components/seo';
import Typography from '../components/Typography';

import FacebookIcon from '../components/icons/FacebookIcon';
import LinkedinIcon from '../components/icons/LinkedInIcon';
import TwitterIcon from '../components/icons/TwitterIcon';
import CheckIcon from '../components/icons/CheckIcon';

import '../scss/bootstrap.scss';
import '../scss/main.scss';

const ARVSPage = ({ location }) => {
  const data = useStaticQuery(graphql`
    query {
        arvs: pagesYaml(id: {eq: "arvs"}) {
            hero {
                title
            }
            copy {
                text
            }
            form {
                title
                subtitle
                paragraph
                paragraph2
            }
            content {
                cards {
                    value
                    description
                }
                listTitle
                list {
                    text
                }
                image {
                    childImageSharp {
                        fluid {
                            ...GatsbyImageSharpFluid_withWebp
                        }
                    }
                }
                imageAlt
                imageCaption
                email
                about {
                    title
                    text
                    link
                }
            }
        }
    }
  `);
    const { arvs } = data;

    return (
        <>
            <SEO
                title={arvs.hero.title}
                description={arvs.copy.text}
                url={location.pathname}
            />
            <Hero
                container="small"
                theme="dark"
                centered
            >
                <Container fluid="xl">
                    <Row>
                        <Col lg={{ span: 10, offset: 1 }}>
                            <Typography paragraph variant="heading1">
                                {arvs.hero.title}
                            </Typography>
                            <div className="mt-5 d-flex justify-content-center">
                                <Link to={`https://www.facebook.com/sharer/sharer.php?u=https://airgap.io${location.pathname}`} className="mr-2">
                                    <FacebookIcon color="#FFFFFF" />
                                </Link>
                                <Link to={`https://www.linkedin.com/shareArticle?mini=true&url=https://airgap.io${location.pathname}&title=&summary=&source=`} className="mr-2">
                                    <LinkedinIcon color="#FFFFFF" />
                                </Link>
                                <Link to={`https://twitter.com/intent/tweet?url=https://airgap.io${location.pathname}&text=`}>
                                    <TwitterIcon color="#FFFFFF" />
                                </Link>
                            </div>
                        </Col>
                    </Row>
                </Container>
            </Hero>
            <Panel theme="gradient" className="py-10">
                <Container fluid="xl">
                    <Row>
                        <Col className="text-center">
                            <Typography variant="blockquote" paragraph>
                                {arvs.copy.text}
                            </Typography>
                        </Col>
                    </Row>
                </Container>
            </Panel>
            <Panel theme="gradient" className="py-10">
                <Container fluid="xl">
                    <Row>
                        <Col xs={12} md={5} className="">
                            <Typography variant="heading3" paragraph>
                                {arvs.form.title}
                            </Typography>
                            <Typography variant="heading4" paragraph>
                                {arvs.form.subtitle}
                            </Typography>
                            <Typography variant="blockquote" paragraph>
                                {arvs.form.paragraph}
                            </Typography>
                            <Typography variant="blockquote" paragraph>
                                {arvs.form.paragraph2}
                            </Typography>
                        </Col>
                        <Col xs={12} md={{ span: 6, offset: 1 }} className="mt-5 mt-md-0">
                            <HubspotForm
                                formId="73b0b99a-e746-4049-a3ec-59aab14ef4b0"
                                redirectTo="/thank-you-for-submitting-the-form/"
                            >
                                <Typography variant="heading4" paragraph>
                                    {arvs.form.submitResponse}
                                </Typography>
                            </HubspotForm>
                        </Col>
                    </Row>
                </Container>
            </Panel>
            <Panel theme="gradient" className="py-10">
                <Container fluid="xl">
                    <Row>
                        {arvs.content.cards.map((card, ind) => (
                            <Col sm={6} lg={3} className="mt-6" key={ind}>
                            <Box className="text-center p-4 h-100">
                                <Typography variant="heading3" className="font-weight-bold" paragraph>
                                    {card.value}
                                </Typography>
                                <Typography className="mt-4">
                                    {card.description}
                                </Typography>
                            </Box>
                            </Col>
                        ))}
                    </Row>
                </Container>
            </Panel>
            <Panel theme="gradient" className="py-10">
                <Container fluid="xl">
                    <Row>
                        <Col lg={{ span: 8, offset: 2 }}>
                            <Typography paragraph>
                                {arvs.content.listTitle}
                            </Typography>
                            <List fullWidth>
                                {arvs.content.list.map((listItem, ind) => (
                                    <List.Item key={ind} iconLeft={<CheckIcon color="#F98533" />}>
                                        {listItem.text}
                                    </List.Item>
                                ))}
                            </List>
                            <Image
                                alt={arvs.content.imageAlt}
                                fluid={arvs.content.image.childImageSharp.fluid}
                                className="my-2"
                            />
                            <Typography paragraph className="mb-6">
                                {arvs.content.imageCaption}
                                &nbsp;
                                <Link underline to={`mailto:${arvs.content.email}`}>{arvs.content.email}</Link>
                            </Typography>
                            <Typography variant="heading4" paragraph>
                                {arvs.content.about.title}
                            </Typography>
                            <Typography>
                                {arvs.content.about.text}
                                &nbsp;
                                <Link
                                    underline
                                    to={arvs.content.about.link}
                                >
                                    {arvs.content.about.link}
                                </Link>
                            </Typography>
                        </Col>
                    </Row>
                </Container>
            </Panel>
        </>
    );
};

export default ARVSPage;